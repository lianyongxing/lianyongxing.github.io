<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>搭建Apache Storm环境 | LIANYONGXING. BLOG</title>
    <meta name="description" content="May the force be with u.">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="ficon.jpeg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.a5323663.css" as="style"><link rel="preload" href="/assets/js/app.acaacfed.js" as="script"><link rel="preload" href="/assets/js/2.858fe96a.js" as="script"><link rel="preload" href="/assets/js/84.3398b3bb.js" as="script"><link rel="prefetch" href="/assets/js/10.652038c7.js"><link rel="prefetch" href="/assets/js/100.2dd9d0f2.js"><link rel="prefetch" href="/assets/js/101.487a243a.js"><link rel="prefetch" href="/assets/js/102.0c61121f.js"><link rel="prefetch" href="/assets/js/103.4dbe63e3.js"><link rel="prefetch" href="/assets/js/104.7f502b03.js"><link rel="prefetch" href="/assets/js/105.6e83f9e6.js"><link rel="prefetch" href="/assets/js/106.5409dca1.js"><link rel="prefetch" href="/assets/js/107.7ad54acd.js"><link rel="prefetch" href="/assets/js/108.3486f36a.js"><link rel="prefetch" href="/assets/js/109.5ee4cd3b.js"><link rel="prefetch" href="/assets/js/11.4f8ea0df.js"><link rel="prefetch" href="/assets/js/110.6417250e.js"><link rel="prefetch" href="/assets/js/111.ded28c89.js"><link rel="prefetch" href="/assets/js/112.94f5b6c6.js"><link rel="prefetch" href="/assets/js/113.3b1fe42e.js"><link rel="prefetch" href="/assets/js/114.0e643f0c.js"><link rel="prefetch" href="/assets/js/115.32a16f28.js"><link rel="prefetch" href="/assets/js/12.a9ef9aaf.js"><link rel="prefetch" href="/assets/js/13.acff38a0.js"><link rel="prefetch" href="/assets/js/14.113e66b1.js"><link rel="prefetch" href="/assets/js/15.19b59d69.js"><link rel="prefetch" href="/assets/js/16.4ee77b14.js"><link rel="prefetch" href="/assets/js/17.a5b6d566.js"><link rel="prefetch" href="/assets/js/18.744a9950.js"><link rel="prefetch" href="/assets/js/19.fd9e7099.js"><link rel="prefetch" href="/assets/js/20.66903b5c.js"><link rel="prefetch" href="/assets/js/21.c98f5d06.js"><link rel="prefetch" href="/assets/js/22.a0056c91.js"><link rel="prefetch" href="/assets/js/23.73369199.js"><link rel="prefetch" href="/assets/js/24.dc5b3fc5.js"><link rel="prefetch" href="/assets/js/25.bf612edb.js"><link rel="prefetch" href="/assets/js/26.b9dd7686.js"><link rel="prefetch" href="/assets/js/27.371379cd.js"><link rel="prefetch" href="/assets/js/28.4a33fe83.js"><link rel="prefetch" href="/assets/js/29.be42af3d.js"><link rel="prefetch" href="/assets/js/3.47952932.js"><link rel="prefetch" href="/assets/js/30.37bd8e9e.js"><link rel="prefetch" href="/assets/js/31.58f89f44.js"><link rel="prefetch" href="/assets/js/32.741f73e3.js"><link rel="prefetch" href="/assets/js/33.a9c7dcb5.js"><link rel="prefetch" href="/assets/js/34.c3f829b5.js"><link rel="prefetch" href="/assets/js/35.29c897d0.js"><link rel="prefetch" href="/assets/js/36.1e02f622.js"><link rel="prefetch" href="/assets/js/37.a1d23a14.js"><link rel="prefetch" href="/assets/js/38.06964860.js"><link rel="prefetch" href="/assets/js/39.384a454e.js"><link rel="prefetch" href="/assets/js/4.7feb14c8.js"><link rel="prefetch" href="/assets/js/40.c7e4dfb7.js"><link rel="prefetch" href="/assets/js/41.3e5c5125.js"><link rel="prefetch" href="/assets/js/42.dcf19498.js"><link rel="prefetch" href="/assets/js/43.54203bcb.js"><link rel="prefetch" href="/assets/js/44.9cccb36c.js"><link rel="prefetch" href="/assets/js/45.3ce2a56c.js"><link rel="prefetch" href="/assets/js/46.17aac222.js"><link rel="prefetch" href="/assets/js/47.57ed0257.js"><link rel="prefetch" href="/assets/js/48.8baebce7.js"><link rel="prefetch" href="/assets/js/49.7eb16be5.js"><link rel="prefetch" href="/assets/js/5.55c31470.js"><link rel="prefetch" href="/assets/js/50.06274b55.js"><link rel="prefetch" href="/assets/js/51.b50e24a8.js"><link rel="prefetch" href="/assets/js/52.7b92239f.js"><link rel="prefetch" href="/assets/js/53.fb7cbb6a.js"><link rel="prefetch" href="/assets/js/54.d047b5f1.js"><link rel="prefetch" href="/assets/js/55.6e2fd120.js"><link rel="prefetch" href="/assets/js/56.fa7ee707.js"><link rel="prefetch" href="/assets/js/57.31b7d0a7.js"><link rel="prefetch" href="/assets/js/58.80cddbc7.js"><link rel="prefetch" href="/assets/js/59.92b2b0f2.js"><link rel="prefetch" href="/assets/js/6.792ce084.js"><link rel="prefetch" href="/assets/js/60.9ab8e458.js"><link rel="prefetch" href="/assets/js/61.b3abbf87.js"><link rel="prefetch" href="/assets/js/62.2bde1ed2.js"><link rel="prefetch" href="/assets/js/63.39cf6423.js"><link rel="prefetch" href="/assets/js/64.c839079e.js"><link rel="prefetch" href="/assets/js/65.ea1754c1.js"><link rel="prefetch" href="/assets/js/66.802ec528.js"><link rel="prefetch" href="/assets/js/67.a30d6fff.js"><link rel="prefetch" href="/assets/js/68.d98ac090.js"><link rel="prefetch" href="/assets/js/69.083b1217.js"><link rel="prefetch" href="/assets/js/7.3964fa52.js"><link rel="prefetch" href="/assets/js/70.272720ba.js"><link rel="prefetch" href="/assets/js/71.386b54d7.js"><link rel="prefetch" href="/assets/js/72.005e615f.js"><link rel="prefetch" href="/assets/js/73.b1266355.js"><link rel="prefetch" href="/assets/js/74.9ab08f58.js"><link rel="prefetch" href="/assets/js/75.eefe4ff0.js"><link rel="prefetch" href="/assets/js/76.e4162716.js"><link rel="prefetch" href="/assets/js/77.e1ead4d7.js"><link rel="prefetch" href="/assets/js/78.ae9b9cc3.js"><link rel="prefetch" href="/assets/js/79.eeaf4627.js"><link rel="prefetch" href="/assets/js/8.5ccbfc45.js"><link rel="prefetch" href="/assets/js/80.0272858c.js"><link rel="prefetch" href="/assets/js/81.bbc0907f.js"><link rel="prefetch" href="/assets/js/82.4de7fcc4.js"><link rel="prefetch" href="/assets/js/83.2ad342e1.js"><link rel="prefetch" href="/assets/js/85.be446d7c.js"><link rel="prefetch" href="/assets/js/86.1ef2094d.js"><link rel="prefetch" href="/assets/js/87.53795a29.js"><link rel="prefetch" href="/assets/js/88.1c3ba029.js"><link rel="prefetch" href="/assets/js/89.a4797bc8.js"><link rel="prefetch" href="/assets/js/9.1e695694.js"><link rel="prefetch" href="/assets/js/90.12ceffe8.js"><link rel="prefetch" href="/assets/js/91.40c9fc92.js"><link rel="prefetch" href="/assets/js/92.9648154b.js"><link rel="prefetch" href="/assets/js/93.d4e90cec.js"><link rel="prefetch" href="/assets/js/94.50b5eb64.js"><link rel="prefetch" href="/assets/js/95.9d54c125.js"><link rel="prefetch" href="/assets/js/96.fce496cb.js"><link rel="prefetch" href="/assets/js/97.86a56b4e.js"><link rel="prefetch" href="/assets/js/98.cf20fa6d.js"><link rel="prefetch" href="/assets/js/99.92c0c3e3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a5323663.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LIANYONGXING. BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/NLP/" class="nav-link">
  NLP
</a></li><li class="dropdown-item"><!----> <a href="/blog/machineLearning/" class="nav-link">
  MachineLearning
</a></li><li class="dropdown-item"><!----> <a href="/blog/Papers/" class="nav-link">
  Papers
</a></li><li class="dropdown-item"><!----> <a href="/blog/recommenderSystem/" class="nav-link">
  RecommenderSystem
</a></li><li class="dropdown-item"><!----> <a href="/blog/ObjectDetection/" class="nav-link">
  ObjectDetection
</a></li><li class="dropdown-item"><!----> <a href="/blog/os/" class="nav-link">
  OperatorSystem
</a></li><li class="dropdown-item"><!----> <a href="/blog/cookies/" class="nav-link router-link-active">
  Cookies
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/lianyongxing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/index.html" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/NLP/" class="nav-link">
  NLP
</a></li><li class="dropdown-item"><!----> <a href="/blog/machineLearning/" class="nav-link">
  MachineLearning
</a></li><li class="dropdown-item"><!----> <a href="/blog/Papers/" class="nav-link">
  Papers
</a></li><li class="dropdown-item"><!----> <a href="/blog/recommenderSystem/" class="nav-link">
  RecommenderSystem
</a></li><li class="dropdown-item"><!----> <a href="/blog/ObjectDetection/" class="nav-link">
  ObjectDetection
</a></li><li class="dropdown-item"><!----> <a href="/blog/os/" class="nav-link">
  OperatorSystem
</a></li><li class="dropdown-item"><!----> <a href="/blog/cookies/" class="nav-link router-link-active">
  Cookies
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/lianyongxing" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/cookies/" class="sidebar-link">概述</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>基于RTMP协议的流媒体视频直播</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Prometheus+Grafana+Mongodb数据可视化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>搭建MongoDb分片集群</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pycharm远程调试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2019研究生数学建模B题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python日志模块Logging</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>新一代低延时网络传输协议QUIC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>分布式系统相关</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/cookies/distributedSystem/一致性Hash.html" class="sidebar-link">一致性Hash算法</a></li><li><a href="/blog/cookies/distributedSystem/Paxos算法.html" class="sidebar-link">Paxos算法</a></li><li><a href="/blog/cookies/distributedSystem/buildStorm.html" class="active sidebar-link">搭建Apache Storm环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#一、安装jdk" class="sidebar-link">一、安装JDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#下载jdk安装包" class="sidebar-link">下载JDK安装包</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#配置java环境变量" class="sidebar-link">配置Java环境变量</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#二、安装zookeeper" class="sidebar-link">二、安装Zookeeper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#下载zookeeper安装包" class="sidebar-link">下载Zookeeper安装包</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#配置zookeeper" class="sidebar-link">配置Zookeeper</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#启动服务端-客户端" class="sidebar-link">启动服务端/客户端</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#三、安装apache-storm" class="sidebar-link">三、安装Apache-storm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#下载storm安装包" class="sidebar-link">下载Storm安装包</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#配置环境变量" class="sidebar-link">配置环境变量</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#修改storm配置文件" class="sidebar-link">修改Storm配置文件</a></li><li class="sidebar-sub-header"><a href="/blog/cookies/distributedSystem/buildStorm.html#启动运行" class="sidebar-link">启动运行</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="搭建apache-storm环境"><a href="#搭建apache-storm环境" class="header-anchor">#</a> 搭建Apache Storm环境</h1> <h2 id="一、安装jdk"><a href="#一、安装jdk" class="header-anchor">#</a> 一、安装JDK</h2> <h3 id="下载jdk安装包"><a href="#下载jdk安装包" class="header-anchor">#</a> 下载JDK安装包</h3> <ol><li>下载jdk安装包（jdk-8u201-linux-x64.tar.gz），不同的jdk版本略有差异，最好选择稳定版。<br> <a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" title="jdk下载地址" target="_blank" rel="noopener noreferrer">安装包下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>解压安装包到目录/usr/lib/jdk目录下（与jdk的环境变量配置有关）</li></ol> <div class="language- extra-class"><pre class="language-text"><code>tar -zxvf jdk-8u201-linux-x64.tar.gz
mkdir /usr/lib/jdk
mv jdk-8u201-linux-x64 /usr/lib/jdk
</code></pre></div><h3 id="配置java环境变量"><a href="#配置java环境变量" class="header-anchor">#</a> 配置Java环境变量</h3> <ul><li>打开环境变量的配置文件profile</li></ul> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/profile
</code></pre></div><ul><li>修改配置文件，在/etc/profile文件最后加入</li></ul> <div class="language- extra-class"><pre class="language-text"><code>#set java env
export JAVA_HOME=/usr/lib/jdk/jdk1.8.0_201
export JRE_HOME=${JAVA_HOME}/jre    
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib    
export PATH=${JAVA_HOME}/bin:$PATH
</code></pre></div><ul><li>使配置文件生效</li></ul> <div class="language- extra-class"><pre class="language-text"><code>source /etc/profile
</code></pre></div><ul><li>测试是否添加成功（输入下列代码，会输出所设定的环境变量）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>echo $JAVA_HOME
</code></pre></div><h2 id="二、安装zookeeper"><a href="#二、安装zookeeper" class="header-anchor">#</a> 二、安装Zookeeper</h2> <h3 id="下载zookeeper安装包"><a href="#下载zookeeper安装包" class="header-anchor">#</a> 下载Zookeeper安装包</h3> <ol><li><p>下载Zookeeper安装包（zookeeper-3.4.12.tar.gz），此处使用3.4.12版本。<br> <a href="https://zookeeper.apache.org/releases.html#download" title="zookeeper下载地址" target="_blank" rel="noopener noreferrer">安装包下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>解压安装包</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>tar -zxvf zookeeper-3.4.12.tar.gz
</code></pre></div><h3 id="配置zookeeper"><a href="#配置zookeeper" class="header-anchor">#</a> 配置Zookeeper</h3> <ul><li>首先在Zookeeper的根目录zookeeper下建立两个文件夹，一个叫做data文件夹，用来存放数据；一个叫做logs，用来存放日志信息</li></ul> <div class="language- extra-class"><pre class="language-text"><code>mkdir data
mkdir logs
</code></pre></div><ul><li>在Zookeeper的根目录下，存在/conf/zoo_example.cfg示例配置文件，复制一个示例配置文件，并改名为zoo.cfg（真正起作用的是zoo.cfg文件）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>cp zoo_example.cfg zoo.cfg
</code></pre></div><ul><li>在zoo.cfg中修改数据存储和日志存储的文件夹（zookeeper目录为Zookeeper的根目录）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>dataDir=/home/node06/Desktop/software/zookeeper/data（本机中data文件夹的绝对路径）
dataLogDir=/home/node06/Desktop/software/zookeeper/logs（本机中logs文件夹的绝对路径）
</code></pre></div><ul><li>然后添加配置的Zookeeper节点的主机号（这里配置了4个节点），例如：server.1=这台主机名字:2888:3888，其中2888是通信的端口，3888是选举的端口</li></ul> <div class="language- extra-class"><pre class="language-text"><code>server.1=192.168.xxx.xxx:2888:3888
server.2=192.168.xxx.xxx:4888:5888
server.3=192.168.xxx.xxx:6888:7888
server.4=192.168.xxx.xxx:8888:9888
</code></pre></div><ul><li>在刚才创建的data文件夹下，建立一个文件myid存放这台主机的id号，也就是server.后面的数字（例如server.1，则建立一个myid文件，写入内容的是1），在data文件夹下运行如下命令</li></ul> <div class="language- extra-class"><pre class="language-text"><code>echo 1 &gt; myid
</code></pre></div><h3 id="启动服务端-客户端"><a href="#启动服务端-客户端" class="header-anchor">#</a> 启动服务端/客户端</h3> <ul><li>启动服务端（在zookeeper的根目录下的bin文件夹下）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>zkServer.sh start
</code></pre></div><ul><li>运行客户端（在zookeeper的根目录下的bin文件夹下）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>zkCli.sh
</code></pre></div><h2 id="三、安装apache-storm"><a href="#三、安装apache-storm" class="header-anchor">#</a> 三、安装Apache-storm</h2> <h3 id="下载storm安装包"><a href="#下载storm安装包" class="header-anchor">#</a> 下载Storm安装包</h3> <ol><li>下载storm安装包（apache-storm-1.1.0.tar.gz），不同版本的storm配置文件略有差异，此处使用1.1.0版本。<br> <a href="http://storm.apache.org/downloads.html" title="apache-storm-1.1.0下载地址" target="_blank" rel="noopener noreferrer">安装包下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>解压安装包到指定目录/usr/local/storm(也可以是其他任意目录，但第三步中的环境变量应该与之对应)</li></ol> <div class="language- extra-class"><pre class="language-text"><code>tar -zxvf apache-storm-1.1.0.tar.gz
mv apache-storm-1.1.0 storm
</code></pre></div><h3 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h3> <ol start="3"><li>修改环境变量</li></ol> <ul><li>打开配置文件profile</li></ul> <div class="language- extra-class"><pre class="language-text"><code>vim /etc/profile
</code></pre></div><ul><li>修改配置文件<br>
在文件最后加入：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>export STORM_HOME=/usr/local/storm
export PATH=$STORM_HOME/bin:$PATH
</code></pre></div><ul><li>使配置文件生效</li></ul> <div class="language- extra-class"><pre class="language-text"><code>source /etc/profile
</code></pre></div><h3 id="修改storm配置文件"><a href="#修改storm配置文件" class="header-anchor">#</a> 修改Storm配置文件</h3> <p>4.修改storm的配置文件(注意：配置行前都有一个空格！！！)</p> <ul><li>进入storm的配置文件</li></ul> <div class="language- extra-class"><pre class="language-text"><code>vi storm/conf/storm.yaml
</code></pre></div><ul><li>配置Zookeeper的主机地址<br>
在配置文件中加入Zookeeper的主机地址（有几个加几个）</li></ul> <div class="language- extra-class"><pre class="language-text"><code>####These MUST be filled in for a storm configuration
 storm.zookeeper.servers:
 - &quot;192.168.xxx.xxx&quot;
 - &quot;192.168.xxx.xxx&quot;
 - &quot;192.168.xxx.xxx&quot;
 - &quot;192.168.xxx.xxx&quot; 
</code></pre></div><ul><li>配置nimbus的主机地址</li></ul> <div class="language- extra-class"><pre class="language-text"><code> nimbus.host: &quot;192.168.xxx.xxx&quot; 
</code></pre></div><ul><li>设置nimbus本地目录(客户端提交一个jar文件，jar文件会保存在此目录下)</li></ul> <div class="language- extra-class"><pre class="language-text"><code> storm.local.dir: &quot;/home/node06/Desktop/software/storm/data&quot;
</code></pre></div><ul><li>配置从节点上的worker，下面设置4个worker和它们对应的端口（可根据自己的需要设置不同个数）</li></ul> <div class="language- extra-class"><pre class="language-text"><code> supervisor.slots.ports:
  - 6700
  - 6701
  - 6702
  - 6703
</code></pre></div><h3 id="启动运行"><a href="#启动运行" class="header-anchor">#</a> 启动运行</h3> <p>5.启动storm</p> <ul><li>启动主节点</li></ul> <div class="language- extra-class"><pre class="language-text"><code>storm nimbus &amp;
</code></pre></div><ul><li>启动从节点</li></ul> <div class="language- extra-class"><pre class="language-text"><code>storm supervisor &amp;
</code></pre></div><ul><li>启动日志查看器</li></ul> <div class="language- extra-class"><pre class="language-text"><code>storm logviewer &amp;
</code></pre></div><ul><li>启动UI管理界面</li></ul> <div class="language- extra-class"><pre class="language-text"><code>storm ui &amp;

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/cookies/distributedSystem/Paxos算法.html" class="prev">
        Paxos算法
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.acaacfed.js" defer></script><script src="/assets/js/2.858fe96a.js" defer></script><script src="/assets/js/84.3398b3bb.js" defer></script>
  </body>
</html>
